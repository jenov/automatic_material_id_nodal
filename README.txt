This script is used to create a material id node-based. I have used the idea for the compositing scheme that made rio. This script has helped me to learn some more programming with nodes in blender. Original source nodes of the composition: http://www.yafaray.org/community/forum/viewtopic.php?f=6&t=4630&start=15

warning!!
If you use this script in your scene, this delete all nodes of composition that currently have in the composer. 
It is advisable to make a full copy of your scene or save the scene with another name.

Usage:
1 Check Render Layers is activated Material Index True.

2 Open the composer of nodes and a text editor panel simultaneously.

3 In the texteditor: press button "new" and copy the script inside. Run it.

4 Press f12 to pull a render and allocate the id.

Usually you're all set for use!.

Sorry for my bad English.
Enjoy!
